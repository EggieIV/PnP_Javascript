<!DOCTYPE html>
<html>

<head>
    <style>
        * {
            margin: 0;
            padding: 0;

        }

        head,
        footer {
            height: 0px;
        }

        body,
        html,
        #levelContainer {
            overflow: hidden;
            height: 100%;
            width: 100%;
            display: inline-table
        }

        .row {
            display: flex;
        }

        .tile {
            width: 100%;
            margin: 0.2%;
            float: left;
            background: rgba(0, 0, 255, 0.3);

        }

        .tile:hover {
            background: rgba(0, 150, 150, 0.3);
        }
        .char{
            width: 100%;
            height: 100%;
        }

    </style>
</head>

<body onload="drawPlain(30,29)">
                    <button onclick="insertFig('x','https://66.media.tumblr.com/1b1a6f840461273875f2853edbd22534/tumblr_orb77x4Ogh1w8kmjqo1_250.png')">1</button>


    <div id="levelContainer"></div>


</body>

<footer>
    <script>
        //why is height/width 100% not working quite right with divs without contents 

        function appendDiv(name, targetElement, index, tileHeight) {
            var template = document.createElement("div");
            template.className = name;
            template.id = name + index;
            if (name == "tile") {

                template.style.height = tileHeight + "px"; //solution is not dynamic
            }
            var element = document.getElementById(targetElement);
            element.appendChild(template);
        }


        function drawPlain(numOfTilesX, numOfTilesY) {
            var bodyHeight = document.body.clientHeight;
            //alert(bodyHeight);
            var rowIndex = -1;
            for (var i = 0; i < numOfTilesX * numOfTilesY; i++) {

                if ((i % numOfTilesY) == 0) {
                    rowIndex++;
                    appendDiv("row", "levelContainer", rowIndex, 0);
                }

                appendDiv("tile", "row" + rowIndex, i, bodyHeight / numOfTilesY); // stupid bodged solution only applies to screen

            }
            //document.getElementById("levelcontainer").height = 200;

        }

        function insertFig(posIndex, src) {


            if (posIndex == 'x') {
                posIndex = 359;
            }

            var element = document.getElementById("tile" + posIndex);
            var template = document.createElement("embed");
            template.className = "char";
            template.id = "Lucina";
            template.src =src;
            
            element.appendChild(template);


                alert("success");
        }

    </script>
</footer>

</html>
